{"version":3,"sources":["../code/collection.service.ts"],"names":[],"mappings":"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","file":"collection.service.js","sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CollectionService {\r\n\r\n  constructor() { }\r\n\r\n  // ---------- beg onlyDate ----------\r\n  onlyDateKeyDownFn(e) {\r\n    let flag = true;\r\n    if (this.keydownCode(e)) {\r\n      flag = this.ifLength58(e, flag);\r\n      flag = this.isNaNAndSpaceFn(e, flag);\r\n    }\r\n    return flag;\r\n  }\r\n\r\n  onlyDateKeyUpFn(e) {\r\n    return this.ifLength487(e);\r\n  }\r\n  // ---------- end onlyDate ----------\r\n\r\n  // ---------- beg onlyDateTime ----------\r\n  onlyDateTimeKeyDownFn(e) {\r\n    let flag = true;\r\n    flag = this.onlyDateKeyDownFn(e);\r\n    if (e.target.value.length === 11) {\r\n      if (!(e.key * 1 <= 2)) {\r\n        flag = false;\r\n      }\r\n    }\r\n    if (e.target.value.length === 12) {\r\n      if (!(e.key * 1 <= 4)) {\r\n        flag = false;\r\n      }\r\n    }\r\n    if (e.target.value.length === 14 || e.target.value.length === 17) {\r\n      if (!(e.key * 1 <= 5)) {\r\n        flag = false;\r\n      }\r\n    }\r\n    return flag;\r\n  }\r\n\r\n  onlyDateTimeKeyUpFn(e) {\r\n    let value = this.ifLength487(e);\r\n    if (value.length > 7 && value.length < 9) {\r\n      let tempValue = value.split('');\r\n      if (e.key == \"-\") {\r\n        tempValue[8] = '0';\r\n        tempValue[9] = '1';\r\n        e.target.value = tempValue.join('');\r\n      }\r\n    }\r\n    if (value.length === 10) {\r\n      e.target.value = value + ' ';\r\n    }\r\n    if (value.length === 13) {\r\n      e.target.value = value + ':';\r\n    }\r\n    if (value.length === 16) {\r\n      e.target.value = value + ':';\r\n    }\r\n\r\n    return e.target.value;\r\n  }\r\n  // ---------- end onlyDateTime ----------\r\n  // ---------- beg onlyIntFn ----------\r\n  onlyIntKeyDownFn(e) {\r\n    let flag = true;\r\n    if (e.key !== \"Backspace\") {\r\n      flag = this.ifLength(e, flag);\r\n      if (e.key !== \"+\" && e.key !== \"-\") {\r\n        flag = this.isNaNAndSpaceFn(e, flag);\r\n      }\r\n    }\r\n    return flag;\r\n  }\r\n  // ---------- end onlyIntFn ----------\r\n\r\n  // ---------- beg onlyFloat ----------\r\n  onlyFloatKeyDownFn(e) {\r\n    let flag = true;\r\n    if (this.keydownCode(e)) {\r\n      flag = this.ifIndexOfFlaot(e, flag);\r\n      flag = this.ifLength(e, flag);\r\n      if (e.key !== \".\" && e.key !== \"+\" && e.key !== \"-\") {\r\n        flag = this.isNaNAndSpaceFn(e, flag);\r\n      }\r\n    }\r\n    return flag;\r\n  }\r\n  // ---------- end onlyFloat ----------\r\n\r\n  // ---------- beg onlyNumber ----------\r\n  onlyNumberKeyDownFn(e) {\r\n    return this.onlyFloatKeyDownFn(e);\r\n  }\r\n  // ---------- end onlyNumber ----------\r\n\r\n\r\n\r\n  // ---------- beg 验证方法 ----------\r\n\r\n  // keydown 不等删除上下左右键\r\n  keydownCode(e) {\r\n    return e.key !== \"Backspace\" && e.key !== \"ArrowLeft\" && e.key !== \"ArrowRight\" && e.key !== \"ArrowUp\" && e.key !== \"ArrowDown\";\r\n  }\r\n\r\n  // date验证如果length = 5 || 8 \r\n  ifLength58(e, flag) {\r\n    if (e.target.value.length === 5) {\r\n      if (!(e.key * 1 <= 1)) {\r\n        flag = false;\r\n      }\r\n    }\r\n    if (e.target.value.length === 6) {\r\n      if (!(e.key * 1 <= 2)) {\r\n        flag = false;\r\n      }\r\n    }\r\n    if (e.target.value.length === 8) {\r\n      if (!(e.key * 1 <= 3)) {\r\n        flag = false;\r\n      }\r\n    }\r\n    return flag;\r\n  }\r\n\r\n  // date验证 如果length = 4 8 7\r\n  ifLength487(e) {\r\n    let value = e.target.value;\r\n    if (value.length < 4) {\r\n      e.target.value = e.target.value.replace(/[^0-9]/g, '');\r\n    }\r\n    if (value.length === 4) {\r\n      e.target.value = value + '-';\r\n    }\r\n    if (value.length > 4 && value.length < 8) {\r\n      let tempValue = value.split('');\r\n      if (e.key == \"-\") {\r\n        tempValue[5] = '0';\r\n        tempValue[6] = '1';\r\n      }\r\n      value = tempValue.join('');\r\n    }\r\n    if (value.length === 7) {\r\n      e.target.value = value + '-';\r\n    }\r\n    if (value.length > 7) {\r\n      let tempValue = value.split('');\r\n      if (e.key == \"-\") {\r\n        tempValue[8] = '0';\r\n        tempValue[9] = '1';\r\n      }\r\n      if (tempValue[8] === '3') {\r\n        if (tempValue[9] * 1 > 1) {\r\n          tempValue[9] = '1';\r\n        }\r\n      }\r\n      let tempYear = value.split('-')[0],\r\n        tempMonth = value.split('-')[1];\r\n      if (tempMonth === '02') {\r\n        if (((tempYear % 4) == 0) && ((tempYear % 100) != 0) || ((tempYear % 400) == 0)) { } else {\r\n          if (tempValue[8] == \"2\") {\r\n            if (tempValue[9] * 1 > 8) {\r\n              tempValue[9] = \"8\";\r\n            }\r\n          }\r\n        }\r\n      }\r\n      e.target.value = tempValue.join('');\r\n    }\r\n\r\n    return e.target.value;\r\n  }\r\n  // 非数字非空格键验证\r\n  isNaNAndSpaceFn(e, flag) {\r\n    if (isNaN(e.key * 1)) {\r\n      flag = false;\r\n    }\r\n    if (e.code === \"Space\") {\r\n      flag = false;\r\n    }\r\n    return flag;\r\n  }\r\n\r\n  // 如果length > 0 不让输入 + - .等符号\r\n  ifLength(e, flag) {\r\n    if (e.target.value.length > 0) {\r\n      if (e.key === \"+\" || e.key === \"-\") {\r\n        flag = false;\r\n      }\r\n    }\r\n    return flag;\r\n  }\r\n\r\n  // 如果有小数.了不让它再输入.\r\n  ifIndexOfFlaot(e, flag) {\r\n    if (e.target.value.indexOf('.') !== -1) {\r\n      if (e.key === \".\") {\r\n        flag = false;\r\n      }\r\n    }\r\n    return flag;\r\n  }\r\n\r\n  // 浮点金额补 .00\r\n  blurFn(e) {\r\n    if (e.target.value !== '' && e.target.value.indexOf('.') === -1) {\r\n      e.target.value = e.target.value + \".00\";\r\n    }\r\n    let tempValue = e.target.value.split('');\r\n    if (tempValue[tempValue.length - 1] === '.') {\r\n      e.target.value = e.target.value + '00';\r\n    }\r\n    return e.target.value;\r\n  }\r\n  // ---------- end 验证方法 ----------\r\n}\r\n\r\n"]}